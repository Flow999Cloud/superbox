/**
 * SuperBox v2.0.0
 * 
 * The lightbox reimagined. Fully responsive HTML5 image galleries.
 * 
 * Latest version: https://github.com/toddmotto/superbox
 * 
 * Copyright 2013 Todd Motto <http://www.toddmotto.com> / Adam Merrifield <http://seydesign.com>
 * 
 * Licensed under the MIT license <http://www.opensource.org/licenses/mit-license.php>
 */
(function(a){a.fn.SuperBox=function(j){var c=a.extend({background:null,border:null,xColor:null,xShadow:"none"},j);var i=a('<div class="superbox-show superbox-X"/>'),h=a('<img src="" class="superbox-current-img"/>'),b=a('<a href="#" class="superbox-close">&#215;</a>'),e=a('<div class="superbox-float"/>'),f=this.find(">div");var g=(function(k){k.next(".superbox-O").removeClass("superbox-O").addClass("superbox-X").find("img.superbox-current-img, a.superbox-close").animate({opacity:0},100).end().slideUp()});var d=(function(k){k.next().removeClass("superbox-X").addClass("superbox-O").slideDown(function(){a("html,body").animate({scrollTop:(a(".superbox-O").offset().top)-((a(window).height()-a(".superbox-O").height())/2)},"fast")}).find("img.superbox-current-img, a.superbox-close").animate({opacity:1},1000)});i.append(h).append(b).insertAfter(f);e.appendTo(this);this.addClass("superbox-active");if(c.background!==null){f.next().css({"background-color":c.background})}if(c.border!==null){f.next().find("img.superbox-current-img").css({"border-color":c.border})}if(c.xColor!==null){f.next().find("a.superbox-close").css({color:c.xColor})}if(c.xShadow=="emboss"){f.next().find("a.superbox-close").css({"text-shadow":"0 1px 0 rgba(0,0,0,0.6), 0 -1px 0 rgba(250,250,250,0.2)"})}else{if(c.xShadow=="embed"){f.next().find("a.superbox-close").css({"text-shadow":"0 -1px 0 rgba(0,0,0,0.4), 0 1px 0 rgba(250,250,250,0.5)"})}}f.each(function(){var k=a(this).find("img").data("img");a(this).next().find("img.superbox-current-img").attr("src",k);a(this).on("click",function(){if(!a(this).next(".superbox-O").length){g(f)}if(a(this).next(".superbox-O").length){g(a(this))}else{d(a(this))}})});a(".superbox-close").on("click",function(k){k.preventDefault();g(a(this).parent().prev())});return this}})(jQuery);