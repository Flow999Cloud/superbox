(function(c,d){var b="SuperBox",a="3.0.0";c.fn.SuperBox=function(g){var k=c.extend({background:null,border:null,height:400,view:"landscape",xColor:null,xShadow:"none"},g);var v,s,t=c('<div class="superbox-show"/>'),w=c('<img src="img/ajax-loader.gif" class="superbox-current-img"/>'),x=c('<a href="#" class="superbox-close"><i class="icon-cancel-circle"></i></a>'),h=c('<div class="superbox-float"/>'),r=this.find(">div"),m=this.find(">div:nth-child(8n)"),n=this.find(">div:nth-child(6n)"),p=this.find(">div:nth-child(4n)"),q=this.find(">div:nth-child(2n)");var u=function(){var y=function(){if(c(window).width()>1024){r.removeClass("superbox-last");m.addClass("superbox-last")}else{if(c(window).width()>767){r.removeClass("superbox-last");n.addClass("superbox-last")}else{if(c(window).width()>485){r.removeClass("superbox-last");p.addClass("superbox-last")}else{r.removeClass("superbox-last");q.addClass("superbox-last")}}}};y();c(window).resize(function(){y()})};var i=(function(){var D=c(".superbox-show").outerWidth(true),C=k.height+(16*3),y=C,z=c(window).height()*0.8,B=k.view,A=0.6667;if(y>z){y=z}if((B==="landscape")&&(D<y/A)){y=D*A}if((B==="portrait")&&(D<y*A)){y=D/A}if((B==="square")&&(D<y)){y=D}c(".superbox-show").outerHeight(y)});var f=(function(){if(c(window).width()>1024){if(c(".superbox-show").outerWidth(true)!=r.width()*8){c(".superbox-show").outerWidth(r.width()*8)}}else{if(c(window).width()>767){if(c(".superbox-show").outerWidth(true)!=r.width()*6){c(".superbox-show").outerWidth(r.width()*6)}}else{if(c(window).width()>485){if(c(".superbox-show").outerWidth(true)!=r.width()*4){c(".superbox-show").outerWidth(r.width()*4)}}else{if(c(".superbox-show").outerWidth(true)!=r.width()*2){c(".superbox-show").outerWidth(r.width()*2)}}}}});var j=function(B){var z=!c(".superbox-show").length,y=B.hasClass("superbox-O"),H=!B.hasClass("superbox-last"),K=!B.nextAll(".superbox-last:first").next(".superbox-show").length,J=!B.next(".superbox-show").length,I=function(L){if(L==="A"){t.append(w).append(x).insertAfter(B.nextAll(".superbox-last:first"))}else{t.append(w).append(x).insertAfter(B)}i();f();C(B);c(".superbox-show").slideDown("slow",function(){G();F(true)})},C=function(L){c(".superbox-show img.superbox-current-img").attr("src",L.find("img").data("img"))},G=function(){c("html, body").animate({scrollTop:c(".superbox-show").position().top-B.width()},"medium",function(){D(true)})},F=function(L){if(L===true){r.removeClass("superbox-O");B.addClass("superbox-O")}else{r.removeClass("superbox-O")}},D=function(L){if(L===true){c(".superbox-show img.superbox-current-img").animate({opacity:1},750)}else{c(".superbox-show img.superbox-current-img").animate({opacity:0},100,function(){C(B)})}},E=function(){D(false);D(true);F(true)},A=function(){var L=function(){D(false);c(".superbox-show").slideUp(function(){c(this).remove();F(false);D(false)})};c(".superbox-close").on("click",function(M){M.preventDefault();L()});if(y===true){L()}};if(y===false){if(H===true&&K===true){if(z===true){I("A")}else{D(false);c(".superbox-show").slideUp(function(){I("A")})}}else{if(H===false&&J===true){if(z===true){I("B")}else{D(false);c(".superbox-show").slideUp(function(){I("B")})}}else{E()}}}A()};var o=function(){c(window).resize(function(){if(c(".superbox-O").hasClass("superbox-last")){c(".superbox-show").insertAfter(c(".superbox-O"))}else{c(".superbox-show").insertAfter(c(".superbox-O").nextAll(".superbox-last:first"))}})};var l=function(){if(k.background!==null){c(".superbox-show ").css("background-color",k.background)}if(k.border!==null){c(".superbox-show img.superbox-current-img").css("border-color",k.border)}if(k.xColor!==null){c(".superbox-close").css("color",k.xColor)}if(k.xShadow=="emboss"){c(".superbox-close").css("text-shadow","0 1px 0 rgba(0,0,0,0.6), 0 -1px 0 rgba(250,250,250,0.2)")}else{if(k.xShadow=="embed"){c(".superbox-close").css("text-shadow","0 -1px 0 rgba(0,0,0,0.4), 0 1px 0 rgba(250,250,250,0.5)")}}};var e=function(){c(document.documentElement).keyup(function(z){var A=null,y=null;if(z.keyCode==37){A="prev";y=".superbox-list"}else{if(z.keyCode==39){A="nextAll";y=".superbox-list:first"}}if(A!==null){c(".superbox-O")[A](y).click()}})};this.addClass("superbox-active");r.addClass("superbox-list");u();c(window).resize(function(){i();f()});h.appendTo(this);r.on("click",function(){j(c(this));l()});o();e();return this}})(jQuery);