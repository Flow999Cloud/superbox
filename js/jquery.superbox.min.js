(function(c,d){var b="SuperBox",a="3.0.2";c.fn.SuperBox=function(g){var k=c.extend({background:null,border:null,height:400,view:"landscape",xColor:null,xShadow:"none"},g);var v,s,t=c('<div class="superbox-show"/>'),w=c('<img src="img/ajax-loader.gif" class="superbox-current-img"/>'),x=c('<a href="#" class="superbox-close"><i class="icon-cancel-circle"></i></a>'),h=c('<div class="superbox-float"/>'),r=this.find(">div"),m=this.find(">div:nth-child(8n)"),n=this.find(">div:nth-child(6n)"),p=this.find(">div:nth-child(4n)"),q=this.find(">div:nth-child(2n)");var u=function(){var y=function(){if(c(window).width()>1024){r.removeClass("superbox-last");m.addClass("superbox-last")}else{if(c(window).width()>767){r.removeClass("superbox-last");n.addClass("superbox-last")}else{if(c(window).width()>485){r.removeClass("superbox-last");p.addClass("superbox-last")}else{r.removeClass("superbox-last");q.addClass("superbox-last")}}}};y();c(window).resize(function(){y()})};var i=(function(){var D=c(".superbox-show").outerWidth(true),C=k.height+(16*3),y=C,z=c(window).height()*0.8,B=k.view,A=0.6667;if(y>z){y=z}if((B==="landscape")&&(D<y/A)){y=D*A}if((B==="portrait")&&(D<y*A)){y=D/A}if((B==="square")&&(D<y)){y=D}c(".superbox-show").outerHeight(y)});var f=(function(){if(c(window).width()>1024){if(c(".superbox-show").outerWidth(true)!=r.width()*8){c(".superbox-show").outerWidth(r.width()*8)}}else{if(c(window).width()>767){if(c(".superbox-show").outerWidth(true)!=r.width()*6){c(".superbox-show").outerWidth(r.width()*6)}}else{if(c(window).width()>485){if(c(".superbox-show").outerWidth(true)!=r.width()*4){c(".superbox-show").outerWidth(r.width()*4)}}else{if(c(".superbox-show").outerWidth(true)!=r.width()*2){c(".superbox-show").outerWidth(r.width()*2)}}}}});var j=function(C){var z=!c(".superbox-show").length,y=C.hasClass("superbox-O"),I=!C.hasClass("superbox-last"),L=!C.nextAll(".superbox-last:first").next(".superbox-show").length,K=!C.next(".superbox-show").length,J=function(M){if(M==="A"){t.append(w).append(x).insertAfter(C.nextAll(".superbox-last:first"))}else{t.append(w).append(x).insertAfter(C)}i();f();D();c(".superbox-show").slideDown("slow",function(){H();G(true)})},D=function(){c(".superbox-show img.superbox-current-img").attr("src",C.find("img").data("img"));A()},A=function(){var N=new Image(),M=new Image();N.src=C.prev().find("img").data("img");M.src=C.next().find("img").data("img")},H=function(){c("html, body").animate({scrollTop:c(".superbox-show").position().top-C.width()},"medium",function(){E(true)})},G=function(M){if(M===true){r.removeClass("superbox-O");C.addClass("superbox-O")}else{r.removeClass("superbox-O")}},E=function(M){if(M===true){c(".superbox-show img.superbox-current-img").animate({opacity:1},750)}else{c(".superbox-show img.superbox-current-img").animate({opacity:0},100,function(){D()})}},F=function(){E(false);E(true);G(true)},B=function(){var M=function(){E(false);c(".superbox-show").slideUp(function(){c(this).remove();G(false);E(false)})};c(".superbox-close").on("click",function(N){N.preventDefault();M()});if(y===true){M()}};if(y===false){if(I===true&&L===true){if(z===true){J("A")}else{E(false);c(".superbox-show").slideUp(function(){J("A")})}}else{if(I===false&&K===true){if(z===true){J("B")}else{E(false);c(".superbox-show").slideUp(function(){J("B")})}}else{F()}}}B()};var o=function(){c(window).resize(function(){if(c(".superbox-O").hasClass("superbox-last")){c(".superbox-show").insertAfter(c(".superbox-O"))}else{c(".superbox-show").insertAfter(c(".superbox-O").nextAll(".superbox-last:first"))}})};var l=function(){if(k.background!==null){c(".superbox-show ").css("background-color",k.background)}if(k.border!==null){c(".superbox-show img.superbox-current-img").css("border-color",k.border)}if(k.xColor!==null){c(".superbox-close").css("color",k.xColor)}if(k.xShadow=="emboss"){c(".superbox-close").css("text-shadow","0 1px 0 rgba(0,0,0,0.6), 0 -1px 0 rgba(250,250,250,0.2)")}else{if(k.xShadow=="embed"){c(".superbox-close").css("text-shadow","0 -1px 0 rgba(0,0,0,0.4), 0 1px 0 rgba(250,250,250,0.5)")}}};var e=function(){c(document.documentElement).keyup(function(z){var A=null,y=null;if(z.keyCode==37){A="prev";y=".superbox-list"}else{if(z.keyCode==39){A="nextAll";y=".superbox-list:first"}}if(A!==null){c(".superbox-O")[A](y).click()}})};this.addClass("superbox-active");r.addClass("superbox-list");u();c(window).resize(function(){i();f()});h.appendTo(this);r.on("click",function(){j(c(this));l()});o();e();return this}})(jQuery);